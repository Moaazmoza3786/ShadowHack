# Active Recon (Nmap)

Now we touch the target. The goal is to map the attack surface.
Nmap (Network Mapper) is the king of scanners.

## Port States

*   **Open:** An application is listening. (Attack surface).
*   **Closed:** No application. Responds with "Go away" (RST).
*   **Filtered:** A firewall is blocking probing. Nmap gets no response.

## Essential Flags

| Flag | Meaning |
| :--- | :--- |
| `-sS` | SYN Scan (Stealth). Default. |
| `-sV` | Service Version detection. (e.g., Apache 2.4.49). |
| `-p-` | Scan all 65,535 ports. |
| `-O` | OS Detection. |
| `-sC` | Default Scripts (NSE). |

## Lab: Service Discovery

Scan the host `10.10.10.15`. Identify the version of the web server.

<TerminalWindow 
  cmd="nmap -sV 10.10.10.15" 
  output="Starting Nmap 7.92
PORT     STATE SERVICE VERSION
21/tcp   open  ftp     vsftpd 3.0.3
22/tcp   open  ssh     OpenSSH 8.2p1
80/tcp   open  http    Apache httpd 2.4.49
Service Info: OS: Unix

Nmap done: 1 IP address (1 host up) scanned in 6.00 seconds" 
/>

Note the version of Apache. `2.4.49` is vulnerable to Path Traversal. This version number is our ticket in.

<Quiz 
  question="Which Nmap flag enables Version Detection?"
  options={[
    "-sS",
    "-sV",
    "-O",
    "-Pn"
  ]}
/>
